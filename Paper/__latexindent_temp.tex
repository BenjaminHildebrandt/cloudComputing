Follows the proposed architecture from Microsoft themselves\cite{azVODArchitecture}, then again, what else would you add for VOD.
\begin{itemize}
    \item BlobStorage
    \item AppService
    \item Streaming Endpoint
    \item Azure Media Services: Encoding and DRM
    \item  .....
    \item   \textbf{Bild noch rein}
\end{itemize}
Using Streaminglocator for adaptive streaming via HLS or Mpeg-DASH. 

The figure \ref{fig:arch_ms} shows the proposed architecture from Microsoft and contains following cloud components:
\begin{itemize}
    \item BlobStorage
    \item AppService
    \item Streaming Endpoint
    \item Azure Media Services: Encoding and DRM
    \item Azure CDN
    \item Azure Media Player on client side
\end{itemize}
A modification of this proposed architecture was implemented for simplification and payment issues and is shown on figure \ref{fig:arch_new}. In addition there is a database containing information about all video files and their information, such as length, size, uploading user etc. The path to access the content via Azure Media Player is also stored. This allows a fast overview over all files.
\begin{figure}[ht]
    \centering
    \includegraphics[width=1\textwidth, height=80px]{Figures/Channel.png}
    \caption{Aufteilung des allokierten Spektrums}
    \label{Channeling}
  \end{figure}
% ACuch benötigt laut config.js:  Azure ActiveDirectory (aad) id, secret, tenantID
% das hier?    https://docs.microsoft.com/de-de/azure/active-directory/develop/howto-create-service-principal-portal#create-an-azure-active-directory-application
% jap, steht in depl-script, auskommentiert. einmalige ausführung

Using Media Services results in a \textit{two-tier} server-architecture, in which the NodeJS-powered AppService has the end-user's devices as clients. The webserver itself is a client to the Azure Media Services Backend, requesting Encoding- and Streaming-Tasks by submitting \textit{Jobs}. This is also for security reasons, as Media Services uses a separate account-system with it's own credentials, generated by Microsoft. Those are confidential and must not be exposed to end-users. CORS (Cross Origin Resource Sharing) must be enabled for the Storage Account. 

The cloud components used scale completly automatic when needed. The NodeJS AppService is configurated to scale along the workload of the CPU resulting in creating another instance of the service. This happens once the defined threshold is reached. Incoming requests will automaticly distributed by Azure. The database behaves in the same way, scaling up and down when needed depending on the used cost plan.